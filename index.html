<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    body { background: #fff !important; color: #000; }
  </style>
  <style>
    .poster-container {
      width: 100%;
      margin: 0;
      padding: 0;
      display: block;
      background: transparent;
    }
    .poster-relative {
      position: relative;
      width: 100%;
      height: auto;
      display: block;
    }
    .poster-image {
      width: 100%;
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0;
      border: none;
      border-radius: 0;
      box-shadow: none;
      background: transparent;
    }
    .poster-btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
  background: rgba(2, 20, 122, 0.8);
  color: #fff;
  font-size: 1.5em;
  font-family: 'Inter', 'Libre Bodoni', serif;
  padding: 18px 38px;
  border: none;
  border-radius: 0;
  box-shadow: 0 4px 24px rgba(0,0,0,0.10);
  cursor: pointer;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  transition: background 0.2s, box-shadow 0.2s;
    }
    .poster-btn:hover {
      background: #001030;
      box-shadow: 0 8px 32px rgba(0,0,0,0.18);
      border-color: #e3f2fd;
    }
  /* Fonts loaded globally via <link> in the head */
    @media (max-width: 600px) {
      .poster-btn {
        font-size: 1em;
        padding: 12px 18px;
      }
    }
  </style>
  <style>
    .floating-whatsapp {
      position: fixed;
      right: 24px;
      bottom: 24px;
      z-index: 2000;
      background: #25D366;
      color: #fff;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 16px rgba(0,0,0,0.18);
      transition: box-shadow 0.2s, background 0.2s;
      text-decoration: none;
      font-size: 2em;
      border: none;
    }
    .floating-whatsapp:hover {
      box-shadow: 0 8px 32px rgba(0,0,0,0.28);
      background: #128C7E;
    }
    .floating-whatsapp i {
      color: #fff;
      font-size: 2em;
    }
    @media (max-width: 600px) {
      .floating-whatsapp {
        width: 48px;
        height: 48px;
        font-size: 1.3em;
        right: 12px;
        bottom: 80px;
      }
      .floating-whatsapp i {
        font-size: 1.3em;
      }
    }
  </style>
  <style>
    /* Desktop-only: make WhatsApp button a bit smaller */
    @media (min-width: 901px) {
      .floating-whatsapp {
        width: 52px;
        height: 52px;
        right: 20px; /* keep position visually balanced */
        bottom: 20px;
        font-size: 1.6em;
      }
      .floating-whatsapp i {
        font-size: 1.6em;
      }
    }
  </style>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tie Collection | Rimmer's</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Roboto+Slab:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css?v=20250915-5">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <a href="#main" class="skip-link">Skip to content</a>
  <a href="https://wa.me/972535455468" target="_blank" rel="noopener" class="floating-whatsapp" aria-label="Chat on WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>
  <header class="fullscreen" id="site-header" role="banner">
    <div class="header-flex">
      <div class="header-left">
  <a href="contact.html" class="contact-link" style="color: #fff; text-decoration: underline; font-weight: bold; font-size: 1.1em; margin-right: 8px; background: none; border: none; padding: 0; border-radius: 0;">Contact</a>
      </div>
      <div class="header-center">
        <a href="index.html"><img src="images/logo.svg" alt="Rimmer's Logo" class="logo"></a>
  <div class="scroll-hint">Scroll down to see our catalog<br><span class="arrow"></span></div>
      </div>
      <div class="header-right">
  <button class="menu-toggle" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </button>
      </div>
    </div>
    <nav id="mobile-menu" class="mobile-menu" role="navigation" aria-label="Main menu">
      <a href="contact.html">Contact</a>
    </nav>
  <style>
    .header-flex {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 24px;
      width: 100%;
    }
    .header-left {
      flex: 1;
      text-align: left;
    }
    .header-center {
      flex: 1;
      text-align: center;
    }
    .header-right {
      flex: 1;
      text-align: right;
    }
    @media (max-width: 600px) {
      .header-flex {
        flex-direction: row;
      }
      .header-left {
        order: 1;
        text-align: left;
      }
      .header-center {
        order: 2;
        text-align: center;
      }
      .header-right {
        order: 3;
        text-align: right;
      }
    }
  </style>
  </header>

  <script>
  // Collapse fullscreen header on logo click or user scroll, and reveal ties together with the bar (no auto-scroll)
    (function() {
      var header = document.getElementById('site-header');
      if (!header) return;
  var logo = header.querySelector('.logo');
  var hint = header.querySelector('.scroll-hint');
    // Use a stable anchor just above the first row to avoid overshooting rows on mobile/Safari
    var anchor = document.getElementById('collection-start');
    var target = document.getElementById('tie-collection');
    var firstCard = document.querySelector('#tie-collection .tie-card');
  var wa = document.querySelector('.floating-whatsapp');
      // Detect Safari (exclude Chrome/Chromium/Edge variants)
      var ua = navigator.userAgent || navigator.vendor || "";
      var isSafari = /Safari/i.test(ua) && !(/Chrome|Chromium|CriOS|Edg/i.test(ua));
      var didCollapse = false;
      function collapse() {
        if (didCollapse) return;
        didCollapse = true;
        // Add shrunk class (target state) and remove fullscreen to let CSS animate max-height/height
        header.classList.add('shrunk');
        header.classList.remove('fullscreen');
  // Reveal the collection so cards animate in while the bar shrinks
  if (target) target.classList.add('revealed');
  try { sessionStorage.setItem('headerShrunk', '1'); } catch (e) {}
  if (logo) logo.removeEventListener('click', onLogoClick, true);
  if (hint) hint.removeEventListener('click', onLogoClick, true);
        window.removeEventListener('scroll', onFirstScroll, true);
        // Show WhatsApp now that we're leaving fullscreen
        if (wa) wa.classList.remove('hidden');
        // After the collapse animation completes, bring the first row to the top
        var scrolled = false;
        function onEnded(ev){
          if (scrolled) return;
          scrolled = true;
          header.removeEventListener('transitionend', onEnded);
          // Prefer the explicit anchor, then the first card, then the whole section
          var el = anchor || firstCard || target;
          if (!el) return;

          if (isSafari) {
            // In Safari, wait for layout to fully settle, then scroll, then correct any tiny offset.
            requestAnimationFrame(function(){
              requestAnimationFrame(function(){
                // Prefer CSS variable for shrunk height, fallback to measured height, then constant.
                var root = document.documentElement;
                var varVal = getComputedStyle(root).getPropertyValue('--header-shrunk-height') || '';
                var shrunkPx = parseFloat(varVal) || Math.round(header.getBoundingClientRect().height) || 56;
                // Maintain a small visual gap under the bar (matches #tie-collection padding-top)
                var gap = 12;
                var rect1 = el.getBoundingClientRect();
                var targetY = Math.round(window.scrollY + rect1.top - shrunkPx - gap);
                window.scrollTo({ top: targetY, behavior: 'smooth' });
                // Micro-correction pass after smooth scroll finishes
                setTimeout(function(){
                  var rect2 = el.getBoundingClientRect();
                  var delta = Math.round(rect2.top - shrunkPx - gap);
                  if (Math.abs(delta) > 2) {
                    window.scrollTo({ top: Math.round(window.scrollY + delta), behavior: 'auto' });
                  }
                }, 650);
              });
            });
          } else {
            // Keep existing behavior for non-Safari browsers (e.g., Chrome)
            var root = document.documentElement;
            var varVal = getComputedStyle(root).getPropertyValue('--header-shrunk-height') || '';
            var headerHeight = parseFloat(varVal) || header.getBoundingClientRect().height || 56;
            var rect = el.getBoundingClientRect();
            var y = Math.round(window.scrollY + rect.top - headerHeight - 12);
            window.scrollTo({ top: y, behavior: 'smooth' });
          }
        }
        // Fallback timeout in case transitionend is missed
        setTimeout(onEnded, 1300);
        header.addEventListener('transitionend', onEnded, { once: true });
      }
      function onLogoClick(e) {
        e.preventDefault();
        collapse();
      }
      function onFirstScroll(e) {
        if (window.scrollY > 10) {
          collapse();
        }
      }
      // Start shrunk if user already interacted in this session
      try {
        if (sessionStorage.getItem('headerShrunk') === '1') {
          header.classList.add('shrunk');
          header.classList.remove('fullscreen');
          if (target) target.classList.add('revealed');
          if (wa) wa.classList.remove('hidden');
        } else if (logo) {
          logo.addEventListener('click', onLogoClick, true);
          if (hint) hint.addEventListener('click', onLogoClick, true);
          // Also collapse on first user scroll
          window.addEventListener('scroll', onFirstScroll, { passive: true, capture: true });
          // Hide WhatsApp while fullscreen
          if (wa) wa.classList.add('hidden');
        }
      } catch (e) {
        if (logo) logo.addEventListener('click', onLogoClick, true);
        if (hint) hint.addEventListener('click', onLogoClick, true);
        window.addEventListener('scroll', onFirstScroll, { passive: true, capture: true });
        if (wa) wa.classList.add('hidden');
      }
    })();

    // Mobile hamburger toggle
    (function() {
      var toggle = document.querySelector('.menu-toggle');
      var menu = document.getElementById('mobile-menu');
      if (!toggle || !menu) return;

      function closeMenu() {
        menu.classList.remove('open');
        toggle.classList.remove('open');
        toggle.setAttribute('aria-expanded', 'false');
        // Remove focus so :focus-visible styles don’t linger on mobile
        try { toggle.blur(); } catch (e) {}
      }
      function openMenu() {
        menu.classList.add('open');
        toggle.classList.add('open');
        toggle.setAttribute('aria-expanded', 'true');
      }
      function toggleMenu() {
        if (menu.classList.contains('open')) closeMenu(); else openMenu();
      }
      toggle.addEventListener('click', function(e) {
        e.stopPropagation();
        toggleMenu();
      });
      document.addEventListener('click', function(e) {
        if (!menu.contains(e.target) && !toggle.contains(e.target)) {
          closeMenu();
        }
      });
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closeMenu();
      });
    })();
  </script>

  <main id="main">
    <div class="gallery" id="tie-collection">
    <div id="collection-start"></div>
  
    <div class="tie-card">
  <a href="tie.html?id=1">
        <img src="images/satin-red-and-blue-pattens.jpg" alt="R1 - Blue and Red Stars Tie - Satin Silk">
        <img src="images/satin-red-blue-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R1 - Blue and Red Stars Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=2">
        <img src="images/satin-blue.jpg" alt="R2 - Dark blue and Blue Stars Tie - Satin Silk">
        <img src="images/satin-blue-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R2 - Dark blue and Blue Stars Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=3">
        <img src="images/satin-darkgrey.jpg" alt="R3 - Dark Blue and Grey Stars Tie - Satin Silk">
        <img src="images/satin-darkgrey-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R3 - Dark Blue and Grey Stars Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=4">
        <img src="images/satin-darkblue.jpg" alt="R4 - Dark Grey and Blue Stars Tie - Satin Silk">
        <img src="images/satin-darkblue-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R4 - Dark Grey and Blue Stars Tie - Satin Silk</span></h2>
      </a>
    </div>

    <!-- Desktop-only wide promo card spanning two tie slots -->
    <div class="promo-card" aria-hidden="true">
      <img src="images/blue-suit-collection.jpg" alt="Rimmer’s craftsmanship — styled tie inspiration" class="promo-img">
    </div>

     <div class="tie-card">
  <a href="tie.html?id=5">
        <img src="images/satin-red-bluelines.jpg" alt="R5 - Red and Blue Lines Tie - Satin Silk">
        <img src="images/satin-redblue-lines-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R5 - Red and Blue Lines Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=6">
        <img src="images/satin-light-blue-blue-starts.jpg" alt="R6 - Light Blue and Blue Stars Tie - Satin Silk">
        <img src="images/satin-lightblue-blue-stars.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R6 - Light Blue and Blue Stars Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=7">
        <img src="images/satin-darkgreydrawn.jpg" alt="R7 - Dark Grey and Blue Tie - Satin Silk">
        <img src="images/satin-darkgreydrawn.closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R7 - Dark Grey and Blue Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=8">
        <img src="images/satin-darkblue-red-drawn.jpg" alt="R8 - Dark Blue and Red Tie - Satin Silk">
        <img src="images/satin-darkblue-red-drawn-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R8 - Dark Blue and Red Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=19">
        <img src="images/satin-darkblue-greydrawn-face.jpg" alt="R19 - Dark Blue and Grey - Satin Silk">
        <img src="images/satin-darkblue-greydrawn-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R19 - Dark Blue and Grey - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=9">
        <img src="images/satin-lightblue-drawn.jpg" alt="R9 - Light Blue and Blue Tie - Satin Silk">
        <img src="images/satin-lightblue-drawn-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R9 - Light Blue and Blue Tie - Satin Silk</span></h2>
      </a>
    </div>

       <div class="tie-card">
  <a href="tie.html?id=10">
    <img src="images/blue-geometrics.jpg" alt="R10 - Light Blue Chains Tie - Satin Silk" class="primary">
    <img src="images/blue-geometrics-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R10 - Light Blue Chains Tie - Satin Silk</span></h2>
  </a>
</div>

    <div class="tie-card">
  <a href="tie.html?id=11">
        <img src="images/navyblue-flowers.jpg" alt="R11 - Blue and Flowers Tie - Satin Silk">
        <img src="images/navyblue-flowers-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R11 - Blue and Flowers Tie - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=12">
        <img src="images/silk-cotton-darkblue-redstars.jpg" alt="R12 - Blue Avion and Bordeux Starts - Silk and Cotton">
        <img src="images/silk-cotton-darkblue-redstars.closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R12 - Blue Avion and Bordeux Starts - Silk and Cotton</span></h2>
      </a>
    </div>

      <div class="tie-card">
  <a href="tie.html?id=13">
        <img src="images/silk-cotton-darkblue-stars.jpg" alt="R13 - Navy Blue and Silver Stars Tie - Silk and Cotton">
        <img src="images/silk-cotton-blue-stars-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R13 - Navy Blue and Silver Stars Tie - Silk and Cotton</span></h2>
      </a>
    </div>

     <div class="tie-card">
  <a href="tie.html?id=14">
        <img src="images/darkblue-red-tinypaterns.jpg" alt="R14 - Blue and Red and Golden Flowers - Silk">
        <img src="images/darkblue-red-tinypaterns-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R14 - Blue and Red and Golden Flowers - Silk</span></h2>
      </a>
    </div>

    

     <div class="tie-card">
  <a href="tie.html?id=15">
        <img src="images/darkblue-tinypaterns.jpg" alt="R15 - Navy Blue and Small Pattern - Satin Silk">
        <img src="images/darkblue-tinypatterns.closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R15 - Navy Blue and Small Pattern - Satin Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=16">
        <img src="images/silk-cotton-green-starts.jpg" alt="R16 - Dark Green and Black Stars Tie - Silk and Cotton">
        <img src="images/silk-cotton-green-stars-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R16 - Dark Green and Black Stars Tie - Silk and Cotton</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=17">
        <img src="images/eletric-blue-polkadots.jpg" alt="R17 - Eletric Blue Polka Dots Tie - Silk">
        <img src="images/eletric-blue-polkadots-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R17 - Eletric Blue Polka Dots Tie - Silk</span></h2>
      </a>
    </div>

    <div class="tie-card">
  <a href="tie.html?id=18">
        <img src="images/blueavion-polkadots.webp" alt="R18 - Blue Avion White Dots Tie - Silk">
        <img src="images/blue-avion-polka-dots.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">R18 - Blue Avion White Dots Tie - Silk</span></h2>
      </a>
    </div>
    
    <div class="tie-card">
  <a href="tie.html?id=20">
        <img src="images/verydarkblue-small-squares-face.jpg" alt="Dark Blue With Squares">
        <img src="images/verydarkblue-small-squares-closeup.jpg" alt="" aria-hidden="true" class="secondary">
  <h2><span class="title-text">Dark Blue With Squares</span></h2>
      </a>
    </div>
    <!-- Add more ties here -->
    </div>
  </main>

  <footer class="site-footer" role="contentinfo" aria-label="Site footer">
    <div class="footer-inner">
      <div class="footer-left">
        <a href="index.html" class="footer-logo" aria-label="Rimmer's Home">
          <img src="images/logo.svg" alt="Rimmer's Logo" />
        </a>
      </div>
      <div class="footer-center">
        <p>Website designed by Daniel Rimmer · <a href="accessibility.html">Accessibility</a></p>
      </div>
      <div class="footer-right"></div>
    </div>
  </footer>
  <script>
    // Condense only those titles that wrap to 3+ lines on mobile/tablet
    (function() {
      function getLineHeightPx(el) {
        var cs = window.getComputedStyle(el);
        var lh = cs.lineHeight;
        if (!lh || lh === 'normal') {
          var fs = parseFloat(cs.fontSize) || 16;
          return fs * 1.2; // approximate
        }
        return parseFloat(lh);
      }
      function adjustTitles() {
        var isNarrow = window.matchMedia('(max-width: 900px)').matches;
        if (!isNarrow) {
          // Reset any condensed state on desktop
          document.querySelectorAll('.tie-card h2.condensed').forEach(function(h2){ h2.classList.remove('condensed'); });
          return;
        }
        var titles = document.querySelectorAll('.tie-card h2');
        titles.forEach(function(h2){
          // reset then measure without pseudo blocks and without clamping on span
          h2.classList.remove('condensed');
          h2.classList.add('measuring');
          var span = h2.querySelector('.title-text') || h2;
          // Temporarily disable clamping to measure true lines
          var prevDisplay = span.style.display;
          var prevWebkitBoxOrient = span.style.webkitBoxOrient;
          var prevLineClamp = span.style.lineClamp;
          var prevWebkitLineClamp = span.style.webkitLineClamp;
          var prevOverflow = span.style.overflow;
          span.style.display = 'block';
          span.style.webkitBoxOrient = 'unset';
          span.style.lineClamp = 'unset';
          span.style.webkitLineClamp = 'unset';
          span.style.overflow = 'visible';

          var lh = getLineHeightPx(span) || getLineHeightPx(h2) || 18;
          var lines = Math.round(span.scrollHeight / lh);

          // Restore clamping styles
          span.style.display = prevDisplay;
          span.style.webkitBoxOrient = prevWebkitBoxOrient;
          span.style.lineClamp = prevLineClamp;
          span.style.webkitLineClamp = prevWebkitLineClamp;
          span.style.overflow = prevOverflow;
          h2.classList.remove('measuring');
          if (lines > 2) {
            h2.classList.add('condensed');
          }
        });
      }
      // Run after fonts are ready for accurate metrics
      if (document.fonts && document.fonts.ready && document.fonts.ready.then) {
        document.fonts.ready.then(function(){
          adjustTitles();
          setTimeout(adjustTitles, 0); // ensure after reflow
        });
      } else {
        window.addEventListener('load', function(){ adjustTitles(); });
      }
      // Recompute on resize (debounced)
      var tid;
      window.addEventListener('resize', function(){
        clearTimeout(tid);
        tid = setTimeout(adjustTitles, 150);
      });
    })();
  </script>
</body>
</html>
